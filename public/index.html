<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quan Le's W10</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
        <link rel="stylesheet" type="text/css" href="styles.css"/>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" 
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
        crossorigin="anonymous">
        </script>
        <!-- macro_data[0].dataPoints.push({ label: name_data[0].meal_name, y: element.calories }) -->
        <script>
            window.onload = function () {
                var chart = new CanvasJS.Chart("chartContainer", {
                animationEnabled: true,
                title:{
                    text: "Meals and Their Macros"
                },
                toolTip: {
                    shared: true
                },
                legend:{
                    cursor: "pointer",
                    itemclick: toggleDataSeries
                },
                data: [{
                    type: "stackedBar",
                    name: "Calories",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.calories }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.calories })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Serving Size",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.serving_size }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.serving_size })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Cholesterol",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.cholesterol }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.cholesterol })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Sodium",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.sodium }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.sodium })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Carbs",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.carbs }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.carbs })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Protein",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.protein }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.protein })
                    ]
                },
                {
                    type: "stackedBar",
                    name: "Fats",
                    showInLegend: "true",
                    yValueFormatString: "#",
                    dataPoints: [
                        dataPoints.push({ label: chosen[0].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[1].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[2].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[3].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[4].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[5].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[6].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[7].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[8].meal_name, y: element.fat }),
                        dataPoints.push({ label: chosen[9].meal_name, y: element.fat })
                    ]
                }]
              });
              chart.render();

              function toggleDataSeries(e) {
                  if(typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                      e.dataSeries.visible = false;
                  }
                  else {
                      e.dataSeries.visible = true;
                  }
                  chart.render();
              }
            }
        </script>
    </head>
    <body>
        <section>
            <h1>Quan Le's W10</h1>
            <div id="chartContainer" style="height: 300px; width: 100%;"></div>
            <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
                <h2>Dining Hall Information</h2>
                <thead>
                    <tr>
                      <th>Hall ID</th>
                      <th>Hall Name</th>
                      <th>Hall Address</th>
                    </tr>
                  </thead>
                  <tbody>

                  </tbody>
            </table>
        </section>
        <script src="scripts.js"></script>
    </body>
</html>